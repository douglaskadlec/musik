%text-truncate
	overflow: hidden
	text-overflow: ellipsis
	white-space: nowrap

*
	padding: 0
	margin: 0
	box-sizing: border-box

:host
	display: block
	container-type: inline-size
	--musik-gridTemplateColumns: 17em 1fr
	--musik-columnGap: 1.3em
	--musik-rowGap: 1.3em
	--musik-color-textPrimary: #fff
	--musik-color-textSecondary: #fff
	--musik-color-textTertiary: #fff
	--musik-color-accentPrimary: #fff
	--musik-color-accentSecondary: #808080
	--musik-color-accentTertiary: #808080
	--musik-fontWeight-primary: 400
	--musik-fontWeight-secondary: 400
	--musik-fontWeight-tertiary: 400
	--musik-borderRadius: 0
	--musik-aspectRatio: 1 / 1
	--musik-objectFit: contain

:focus-visible
	outline: 2px solid var(--musik-color-textPrimary)

.container
	position: relative
	display: grid
	grid-template-columns: var(--musik-gridTemplateColumns)
	column-gap: var(--musik-columnGap)
	row-gap: var(--musik-rowGap)
	width: 100%
	@container (max-width: 45em)
		grid-template-columns: 1fr
	.progress
		grid-column: 1 / -1
		height: 0.9em
		border-radius: var(--musik-borderRadius)
		background: var(--musik-color-accentSecondary)
		overflow: hidden
		cursor: pointer
		.bar
			width: 0
			height: 100%
			background: var(--musik-color-accentPrimary)
	.meta
		cursor: default
		.image
			display: block
			aspect-ratio: var(--musik-aspectRatio)
			object-fit: var(--musik-objectFit)
			width: 100%
			border-radius: var(--musik-borderRadius)
		.title, .artist
			@extend %text-truncate
		.title
			margin-top: 0.8em
			font-size: 1.1em
			color: var(--musik-color-textSecondary)
			font-weight: var(--musik-fontWeight-secondary)
		.artist
			font-size: 1.1em
			color: var(--musik-color-textTertiary)
			font-weight: var(--musik-fontWeight-tertiary)
	.playlist
		display: flex
		flex-direction: column
		button
			display: grid
			grid-template-columns: max-content minmax(0, 1fr) max-content
			align-items: center
			column-gap: 0.4em
			padding: 0.7em
			border-radius: var(--musik-borderRadius)
			border: none
			background: none
			font-family: inherit
			font-size: inherit
			color: var(--musik-color-textPrimary)
			font-weight: var(--musik-fontWeight-primary)
			text-align: left
			transition: background 0.3s
			cursor: pointer
			.play-icon, .pause-icon
				display: flex
				width: 1.3em
				fill: var(--musik-color-accentSecondary)
				transition: fill 0.3s
			.pause-icon
				display: none
			.track-title, .track-duration
				color: var(--musik-color-textPrimary)
			.track-title
				@extend %text-truncate
			.track-duration
				margin-left: auto
		button.active, button:hover
			background: var(--musik-color-accentTertiary)
			.play-icon, .pause-icon
				fill: var(--musik-color-accentPrimary)
.container.playing
	.playlist
		button.active
			.play-icon
				display: none
			.pause-icon
				display: flex